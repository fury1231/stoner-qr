# 🎯 尋寶活動系統 - 使用教學

## 📋 系統概述
這是一套輕量級的尋寶活動管理系統，顧客掃描QR Code完成踩點，店員可在後台核對並兌換抽獎資格。

---

## 🚀 快速開始

### 1. 啟動系統
```bash
cd qrcode
npm start
```
啟動後會看到：
```
伺服器運行在 http://localhost:4500
管理後台: http://localhost:4500/admin
預設管理員帳號: admin / stoner
```

### 2. 訪問網址
- **主要網站**: http://localhost:4500
- **管理後台**: http://localhost:4500/admin

---

## 👤 顧客端使用流程

### 步驟1: 掃描QR Code
顧客使用手機掃描地點的QR Code，會自動跳轉到踩點頁面

### 步驟2: 輸入電子郵件
在網頁中輸入有效的電子郵件地址

### 步驟3: 領取抽獎資格
點擊「領取我的抽獎資格」按鈕完成踩點

### 步驟4: 到店兌換
憑電子郵件到店內找店員兌換抽獎機會

---

## 🏪 店員端使用流程

### 登入管理後台
1. 訪問: http://localhost:4500/admin
2. 輸入帳號密碼: `admin` / `stoner`
3. 點擊「登入」

### 查詢顧客資格
1. 在「顾客資格查詢」區域輸入顧客的電子郵件
2. 點擊「查詢」
3. 系統會顯示該顧客的所有抽獎資格

### 核銷抽獎資格
1. 在查詢結果中找到要核銷的資格
2. 點擊「核銷」按鈕
3. 確認核銷資訊
4. 點擊「確定核銷」完成兌換

---

## 🔧 管理功能

### 查看尋寶地點列表
1. 點擊「📍 尋寶地點列表」展開
2. 點擊「刷新列表」查看最新地點
3. 每個地點都有QR Code按鈕可生成列印用的QR Code

### 新增尋寶地點
1. 點擊「🏪 新增尋寶地點」展開
2. 輸入地點名稱
3. 點擊「新增地點」
4. 系統會自動生成14位隨機地點ID

### QR Code 管理
1. 在地點列表中點擊「📱 QR」按鈕
2. 選擇QR Code大小 (200px-500px)
3. 點擊「💾 下載圖片」或「🖨️ 列印」

### 重置Email兌換狀態
1. 點擊「🔄 重置Email兌換狀態」展開
2. 輸入要重置的電子郵件
3. 點擊「重置兌換狀態」
4. 該email即可重新參與活動

---

## ⚡ 系統特色

### 🔒 一次性限制
- 每個電子郵件只能兌換一次獎勵
- 防止重複參與，保證活動公平性

### 🕐 自動刷新
- 管理後台每5分鐘自動刷新
- 右上角顯示倒計時

### 📱 響應式設計
- 支援手機、平板、電腦
- QR Code掃描友好

### 🎯 即時更新
- 顧客踩點後立即在後台顯示
- 核銷狀態即時同步

---

## 📊 使用統計

### 查看兌換狀態
- **未核銷**: 綠色顯示，可以兌換
- **已核銷**: 灰色顯示，包含核銷時間
- **切換顯示**: 使用「顯示所有資格」開關

### 刪除功能
- 可刪除錯誤的抽獎資格
- 可刪除不需要的尋寶地點
- 刪除前會要求確認

---

## 🛠️ 故障排除

### 常見問題

**Q: QR Code 無效怎麼辦？**
A: 重新啟動伺服器，確保地點ID正確

**Q: 忘記管理員密碼？**
A: 預設密碼是 `stoner`，可修改 `server/init-db.js` 重設

**Q: 顧客無法領取獎勵？**
A: 檢查該email是否已兌換過，一個email只能兌換一次

**Q: 管理後台無法登入？**
A: 確認網址正確 http://localhost:4500/admin

---

## 📞 技術支援

如有任何問題，請聯繫系統管理員或查看：
- GitHub: https://github.com/fury1231/stoner-qr
- 系統運行狀態: 檢查伺服器是否在 PORT 4500 運行

---

## 🎉 開始使用

現在您已經了解如何使用這套尋寶活動系統！

1. **店員**: 先登入後台熟悉介面
2. **準備**: 列印QR Code放置到各個地點
3. **宣傳**: 告訴顧客掃描QR Code參與活動
4. **管理**: 使用後台查詢和核銷顧客資格

祝您的尋寶活動順利成功！🎯✨